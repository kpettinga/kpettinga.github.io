window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var a=0;a<this.length;a++)e.call(t,this[a],a,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(a[s]=i[s])}return a},writable:!0,configurable:!0}),function(e){var t={onScroll:[],activeProject:0,headlineTrack:document.getElementById("headline-track"),headlines:[],projects:[{title:'<span class="faded">Hi, I create</span><br/> systems &amp; interfaces<br/><span class="faded">for the web.</span>',fill:"#f3f5f7"},{title:"Orpheus Chamber Orchestra",description:"Pellentesque in ipsum id orci porta dapibus. Nulla quis lorem ut libero malesuada feugiat. Donec sollicitudin molestie malesuada.",url:"http://orpheusnyc.org/",url_text:"orpheusnyc.org",meta:{role:"Primary Developer",platform:"Wordpress"},color:"#C63714",fill:"#F8E7E3"},{title:"TransitCenter",description:"Pellentesque in ipsum id orci porta dapibus. Nulla quis lorem ut libero malesuada feugiat. Donec sollicitudin molestie malesuada.",url:"http://transitcenter.org/",url_text:"transitcenter.org",meta:{role:"Primary Developer",platform:"Wordpress"},color:"#5E28B2",fill:"#EFE9F7"},{title:"Let's Chat",fill:"#f3f5f7"}]};e.APP=t}(this),function(t){var a=-1,r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||t.oRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)};!function e(){if(a==t.pageYOffset)return r(e),!1;a=t.pageYOffset,APP.onScroll.forEach(function(e){"function"==typeof e&&e(a)}),r(e)}()}(this),function(e){var t=e.innerWidth-15,a=e.innerHeight,s=new createjs.Stage("canvas");s.canvas.width=t,s.canvas.height=a,s.regX=t/-2,s.regY=a/-2,APP.projects.forEach(function(e,t){var a=s.canvas.width,r=s.canvas.height;e.shape=new createjs.Shape,0===t?(e.shape.regX=25,e.shape.regY=2,e.shape.graphics.beginFill(e.fill).drawRect(0,0,50,4)):(e.shape.regX=a/2,e.shape.regY=r/2,e.shape.graphics.beginFill(e.fill).drawRect(0,r*t,a,r)),s.addChild(e.shape);var i=document.createElement("div");i.className="headline-item animate "+(0===t?"active":""),i.innerHTML='<div class="headline-text">'+e.title+"</div>",APP.headlineTrack.appendChild(i),APP.headlines.push(i)}),createjs.Tween.get(APP.projects[0].shape).to({rotation:1080},3e3,createjs.Ease.getPowOut(4)).to({scaleX:s.canvas.width/50},600,createjs.Ease.getPowOut(4)).call(function(){document.body.classList.add("initialized")}).to({scaleY:s.canvas.height/4},700,createjs.Ease.getPowOut(4)),createjs.Ticker.setFPS(60),createjs.Ticker.addEventListener("tick",s),document.querySelectorAll(".section").forEach(function(r,i){APP.onScroll.push(function(e){var t=s.canvas.height,a=r.offsetTop-t/2;bottom=r.offsetHeight+r.offsetTop-t/2,a<=e&&e<bottom?r.classList.contains("active")||(r.classList.add("active"),createjs.Tween.get(s).to({y:-t*i},1e3,createjs.Ease.getPowOut(4)),APP.activeProject=i,document.body.setAttribute("data-project",i),APP.projects[i],APP.headlines.forEach(function(e,t){t===APP.activeProject?e.classList.add("active"):e.classList.remove("active")}),APP.headlineTrack.style.transform="translate3d(0,"+-10*APP.activeProject+"vw,0)",APP.headlineTrack.style.webkitTransform="translate3d(0,"+-10*APP.activeProject+"vw,0)",APP.headlineTrack.style.mozTransform="translate3d(0,"+-10*APP.activeProject+"vw,0)",APP.headlineTrack.style.msTransform="translate3d(0,"+-10*APP.activeProject+"vw,0)",APP.headlineTrack.style.oTransform="translate3d(0,"+-10*APP.activeProject+"vw,0)"):r.classList.remove("active")})}),e.addEventListener("resize",function(){var r=e.innerWidth-15,i=e.innerHeight;s.canvas.width=r,s.canvas.height=i,s.setBounds(0,0,r,i),s.regX=r/-2,s.regY=i/-2,rects.forEach(function(e,t){var a=(new createjs.Graphics).beginFill(e.fill).drawRect(0,i*t,r,i);e.shape.regX=r/2,e.shape.regY=i/2,e.shape.set({graphics:a})})})}(this);